# pylint: disable=invalid-name
"""Election Result
Revision ID: bf363fae1b65
Revises: f10cca6c0437
Create Date: 2021-11-08 08:15:42.040146+00:00
"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'bf363fae1b65'
down_revision = 'f10cca6c0437'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('election_result',
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sa.String(length=200), nullable=False),
    sa.Column('source', sa.Enum('FILE', 'DATA_ENTRY', name='electionresultsource'), nullable=False),
    sa.Column('precinct_id', sa.String(length=200), nullable=False),
    sa.Column('candidate_id', sa.String(length=200), nullable=False),
    sa.Column('num_votes', sa.Integer(), nullable=False),
    sa.Column('deleted_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['candidate_id'], ['candidate.id'], name=op.f('election_result_candidate_id_fkey'), ondelete='cascade'),
    sa.ForeignKeyConstraint(['precinct_id'], ['precinct.id'], name=op.f('election_result_precinct_id_fkey'), ondelete='cascade'),
    sa.PrimaryKeyConstraint('id', name=op.f('election_result_pkey')),
    sa.UniqueConstraint('precinct_id', 'candidate_id', name=op.f('election_result_precinct_id_candidate_id_key'))
    )
    # ### end Alembic commands ###


def downgrade():
    pass
    # ### commands auto generated by Alembic - please adjust! ###
    # op.drop_table('election_result')
    # ### end Alembic commands ###
