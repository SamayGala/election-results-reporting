(this["webpackJsonpelection-results-reporting"]=this["webpackJsonpelection-results-reporting"]||[]).push([[0],{19:function(e,n,t){e.exports=t(28)},25:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var a,r,i,l,c,o,d,m,s,u,p,f,b,g,h,v,E,y,w,x,k,O,j,S,C,I,P,N,M,R,V,A,D,T,L,z=t(0),F=t.n(z),B=t(12),W=t.n(B),U=t(18),J=t(8),G=t.n(J),H=t(13),K=t(7),q=t(1),Y=(t(25),t(14)),Z=t.n(Y),$=t(2),Q=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}),X=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),_=t(3),ee=new Date,ne=new Date(ee.setDate(ee.getDate()+14)),te=$.a.span(a||(a=Object(q.a)(["\n  white-space: nowrap;\n"]))),ae=$.a.div(r||(r=Object(q.a)(["\n  background: #336733;\n"]))),re=$.a.div(i||(i=Object(q.a)(["\n  display: flex;\n  align-items: stretch;\n"]))),ie=$.a.div(l||(l=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),le=$.a.div(c||(c=Object(q.a)(["\n  position: relative;\n  width: 70px;\n  height: 70px;\n  margin: 0.5rem;\n  @media (min-width: 568px) {\n    width: 120px;\n    height: 90px;\n    padding: 1rem;\n    margin: 0.5rem 1rem;\n  }\n  @media print, (min-width: ","px) {\n    margin-left: 0;\n  }\n"])),1232),ce=$.a.img(o||(o=Object(q.a)(["\n  max-width: 100%;\n  border-radius: 100%;\n  box-shadow: 0 1px 4px #666666;\n  @media (min-width: 568px) {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n"]))),oe=$.a.div(d||(d=Object(q.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  color: #ffffff;\n  line-height: 1.25;\n  @media print, (min-width: 568px) {\n    font-size: 1.5rem;\n  }\n  @media print {\n    color: #000000;\n  }\n"]))),de=$.a.div(m||(m=Object(q.a)(["\n  font-size: 0.9rem;\n  @media print, (min-width: 568px) {\n    font-size: 1rem;\n  }\n"]))),me=$.a.div(s||(s=Object(q.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  @media print {\n    display: none;\n  }\n"]))),se=$.a.button(u||(u=Object(q.a)(["\n  padding: 0.5rem 1rem;\n  margin-right: 0.5rem;\n  background: ",";\n  border-radius: 0.3rem 0.3rem 0 0;\n  color: ",";\n  font-size: 1.15rem;\n  text-decoration: none;\n"])),(function(e){return e.active?"#eeeeee":"#003334"}),(function(e){return e.active?"#000000":"#ffffff"})),ue=$.a.div(p||(p=Object(q.a)(["\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),pe=$.a.div(f||(f=Object(q.a)(["\n  padding: 0.5rem;\n  line-height: 1.25;\n  @media (min-width: 568px) {\n    padding: 1.25rem 1rem 1rem;\n  }\n  @media print, (min-width: ","px) {\n    padding-right: 0;\n    padding-left: 0;\n  }\n"])),1232),fe=$.a.h1(b||(b=Object(q.a)(["\n  font-size: 2rem;\n"]))),be=$.a.p(g||(g=Object(q.a)(["\n  font-size: 0.9rem;\n"]))),ge=$.a.h2(h||(h=Object(q.a)(["\n  margin-top: 0.5rem;\n  font-size: 1.5rem;\n"]))),he=$.a.div(v||(v=Object(q.a)(["\n  margin-top: 0.5rem;\n"]))),ve=$.a.div(E||(E=Object(q.a)(["\n  display: none;\n  float: right;\n  @media (min-width: 768px) {\n    display: block;\n  }\n"]))),Ee=$.a.button(y||(y=Object(q.a)(["\n  display: inline-block;\n  padding: 0.5em 1em;\n  border: none;\n  background: #003334;\n  border-radius: 0.25em;\n  color: #ffffff;\n  cursor: pointer;\n  line-height: 1.25;\n  text-decoration: none;\n"]))),ye=$.a.div(w||(w=Object(q.a)(["\n  display: grid;\n  margin-bottom: 1rem;\n  grid-column-gap: 16px;\n  grid-row-gap: 16px;\n  grid-template-columns: repeat(1, 1fr);\n  @media print {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  @media (min-width: 568px) {\n    margin-right: 1rem;\n    margin-left: 1rem;\n    grid-template-columns: repeat(2, 1fr);\n  }\n  @media (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  @media (min-width: ","px) {\n    margin-right: 0;\n    margin-left: 0;\n  }\n"])),1232),we=$.a.div(x||(x=Object(q.a)(["\n  flex: 1;\n  padding: 1rem 1rem 0.75rem;\n  background: #ffffff;\n  box-shadow: 0 1px 4px #666666;\n  @media (min-width: 568px) {\n    border-radius: 0.3rem;\n  }\n  @media print {\n    border: 1px solid #000000;\n    box-shadow: none;\n  }\n"]))),xe=$.a.div(k||(k=Object(q.a)(["\n  font-size: 0.9rem;\n"]))),ke=$.a.h2(O||(O=Object(q.a)(["\n  margin-top: 0.25rem;\n  font-size: 1.5rem;\n"]))),Oe=$.a.div(j||(j=Object(q.a)(["\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n"]))),je=$.a.div(S||(S=Object(q.a)(["\n  position: relative;\n  padding-top: 0.5rem;\n  border-top: 1px solid #999999;\n  margin-top: 1rem;\n  &:first-child {\n    margin-top: 0.5rem;\n  }\n"]))),Se=$.a.div(C||(C=Object(q.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  & > div {\n    height: 4px;\n    background: #ffc55d;\n    @media print {\n      background: #000000;\n    }\n  }\n"]))),Ce=Object($.a)(Oe)(I||(I=Object(q.a)(["\n  align-items: flex-start;\n"]))),Ie=$.a.div(P||(P=Object(q.a)(["\n  line-height: 1.25;\n  &:last-child {\n    margin-left: 0.5rem;\n    text-align: right;\n  }\n"]))),Pe=$.a.div(N||(N=Object(q.a)(["\n  font-size: 1rem;\n  font-weight: 700;\n"]))),Ne=$.a.div(M||(M=Object(q.a)(["\n  font-size: 0.9rem;\n  white-space: nowrap;\n"]))),Me=$.a.div(R||(R=Object(q.a)(["\n  padding: 0.5rem;\n  margin: 0 0 4rem;\n  font-size: 0.9rem;\n  text-align: center;\n  @media (min-width: 568px) {\n    padding: 1.25rem 1rem 1rem;\n  }\n  @media (min-width: ","px) {\n    padding-right: 0;\n    padding-left: 0;\n  }\n  @media print {\n    display: none;\n  }\n"])),1232),Re=$.a.h2(V||(V=Object(q.a)(["\n  margin: 1rem 0 0.5rem;\n"]))),Ve=$.a.div(A||(A=Object(q.a)(["\n  column-gap: 1rem;\n  @media (min-width: 568px) {\n    columns: 2;\n  }\n  @media (min-width: 768px) {\n    columns: 3;\n  }\n"]))),Ae=$.a.div(D||(D=Object(q.a)(["\n  margin-bottom: 3rem;\n  break-inside: avoid;\n"]))),De=$.a.div(T||(T=Object(q.a)(["\n  margin-bottom: 0.25rem;\n  &::before {\n    display: inline-block;\n    width: 1rem;\n    height: 1rem;\n    margin-right: 0.25rem;\n    background: bottom center url('","/icons/map-marker-regular.svg') no-repeat;\n    content: '';\n    vertical-align: text-bottom;\n  }\n"])),"/election-results-reporting"),Te=$.a.div(L||(L=Object(q.a)(["\n  &::before {\n    display: inline-block;\n    width: 1rem;\n    height: 1rem;\n    margin-right: 0.25rem;\n    background: bottom center url('","/icons/ballot-check-regular.svg') no-repeat;\n    content: '';\n    vertical-align: text-bottom;\n  }\n"])),"/election-results-reporting"),Le=function(e,n){if(0===e)return"0%";if(e===n)return"100%";var t=0===n?0:e/n;return"".concat((Math.round(1e4*t)/100).toFixed(2),"%")},ze=function(e){return Object.keys(e).reduce((function(n,t){return n+e[t]}),0)},Fe=function(){var e=Object(z.useState)(void 0),n=Object(K.a)(e,2),t=n[0],a=n[1],r=Object(z.useState)(0),i=Object(K.a)(r,2),l=i[0],c=i[1],o=Object(z.useCallback)((function(){return t?_.contests.reduce((function(e,n){return e+ze(t.contests[n.id].candidates)}),0):0}),[t]),d=o(),m=d>0,s=Object(z.useState)(m?"results":"info"),u=Object(K.a)(s,2),p=u[0],f=u[1],b=function(){var e=Object(H.a)(G.a.mark((function e(){var n,t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://err-backend-worker.votingworks.workers.dev/warren");case 2:if(!((n=e.sent).status>=200&&n.status<=299)){e.next=10;break}return e.next=6,n.json();case 6:t=e.sent,0!==Object.keys(t).length&&a(t),e.next=11;break;case 10:console.log(n.status,n.statusText);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.useEffect)((function(){var e=setTimeout((function(){c((function(e){return 0===e?60:e-1})),0===l&&b()}),1e3);return function(){return clearTimeout(e)}})),Object(z.useEffect)((function(){o()>0&&f("results")}),[t,o]),F.a.createElement("div",null,F.a.createElement(ae,null,F.a.createElement(ue,null,F.a.createElement(re,null,F.a.createElement(le,null,F.a.createElement(ce,{src:"/election-results-reporting".concat(_.sealURL),alt:"seal"})),F.a.createElement(ie,null,F.a.createElement(oe,null,_.county.name,", ",_.state),F.a.createElement(me,null,F.a.createElement(se,{active:"results"===p,onClick:function(){return f("results")}},"Results"),F.a.createElement(se,{active:"info"===p,onClick:function(){return f("info")}},"Voting Info")))))),"results"===p&&!t&&F.a.createElement(ue,null,F.a.createElement(Me,null,"Loading results\u2026")),"results"===p&&t&&F.a.createElement(F.a.Fragment,null,F.a.createElement(ue,null,F.a.createElement(pe,null,m&&F.a.createElement(ve,null,F.a.createElement(Ee,{onClick:window.print},"Print Results")),F.a.createElement(fe,null,(null===t||void 0===t?void 0:t.isOfficial)?"Offical Results":"Unoffical Results"),F.a.createElement(be,null,"Results last updated at"," ",F.a.createElement(te,null,Q.format(new Date(t.lastUpdatedDate))),"."," ","Official results will be finalized when the election is certified on"," ",F.a.createElement(te,null,Q.format(new Date(ne))),"."),F.a.createElement(ge,null,_.title),F.a.createElement(de,null,F.a.createElement(te,null,X.format(new Date(_.date)))),m?F.a.createElement(he,null,F.a.createElement(te,null,Le(d,t.registeredVoterCount)," voter turnout =")," ",F.a.createElement(te,null,t.registeredVoterCount.toLocaleString()," registered voters /")," ",F.a.createElement(te,null,t.isOfficial?"".concat(d.toLocaleString()," ballots counted"):"".concat(d.toLocaleString()," ballots counted thus far"))):F.a.createElement(he,null,F.a.createElement(te,null,t.registeredVoterCount.toLocaleString()," registered voters")))),F.a.createElement(ue,null,F.a.createElement(ye,null,_.contests.map((function(e){var n=e.section,a=e.title,r=e.seats,i=e.candidates,l=e.id,c=ze(t.contests[l].candidates),o=[].concat(Object(U.a)(i),[{id:"writeIn",name:"Write-In",partyId:""}]);return F.a.createElement(we,{key:l},F.a.createElement(Oe,null,F.a.createElement("div",null,F.a.createElement(xe,null,n),F.a.createElement(ke,null,a)),F.a.createElement(Ie,null,F.a.createElement(Ne,null,r," winner"))),F.a.createElement("div",null,o.sort((function(e,n){return t.contests[l].candidates[n.id]-t.contests[l].candidates[e.id]})).map((function(e){var n,a,r=e.id,i=e.name,o=e.partyId,d=t.contests[l].candidates[r];return F.a.createElement(je,{key:r},F.a.createElement(Se,null,F.a.createElement("div",{style:{width:Le(d,c)}})),F.a.createElement(Ce,{"data-percentage":"50%"},F.a.createElement(Ie,null,F.a.createElement(Pe,{as:"h3"},i),F.a.createElement(Ne,null,null===(a=o,n=_.parties.find((function(e){return e.id===a})))||void 0===n?void 0:n.name)),F.a.createElement(Ie,null,F.a.createElement(Pe,null,Le(d,c)),F.a.createElement(Ne,null,d," votes"))))}))))})))),F.a.createElement(ue,null,F.a.createElement(Me,null,"This data will automatically update every 1 minute."))),"info"===p&&F.a.createElement(F.a.Fragment,null,F.a.createElement(ue,null,F.a.createElement(pe,null,F.a.createElement(fe,null,"Voting Info"),F.a.createElement(ge,null,_.title),F.a.createElement(de,null,F.a.createElement(te,null,"Election Day is ",X.format(new Date(_.date)),".")," ",F.a.createElement(te,null,"Polls are open 7am \u2013 7pm.")),F.a.createElement(Re,null,"Local Precincts"),F.a.createElement(Ve,null,_.precincts.sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){var n=e.id,t=e.name,a=e.address;return F.a.createElement(Ae,{key:n},F.a.createElement("h3",null,t),F.a.createElement(De,null,a?F.a.createElement("a",{href:"https://maps.google.com/?q=".concat(a)},a.split(",")[0]):F.a.createElement("em",null,"no address provided")),F.a.createElement(Te,null,_.ballotStyles.filter((function(e){return e.precincts.includes(n)})).map((function(e){return F.a.createElement("a",{key:"".concat(n,"-").concat(e.id),href:"".concat("/election-results-reporting","/sample-ballots/election-dbebe1f6c8-precinct-").concat(Z()(t),"-id-").concat(n,"-style-").concat(e.id,"-English-SAMPLE.pdf")},"sample ballot")}))))})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));W.a.render(F.a.createElement(F.a.StrictMode,null,F.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},3:function(e){e.exports=JSON.parse('{"title":"Vicksburg Municipal General Election","state":"State of Mississippi","county":{"id":"75","name":"Warren County"},"date":"2021-06-08T00:00:00-10:00","polls":{"openAt":"2021-06-08T07:00:00-10:00","closeAt":"2021-06-08T19:00:00-10:00"},"parties":[{"id":"2","name":"Democrat","fullName":"Democratic Party","abbrev":"D"},{"id":"3","name":"Republican","fullName":"Republican Party","abbrev":"R"},{"id":"4","name":"Libertarian","fullName":"Libertarian Party","abbrev":"L"},{"id":"5","name":"Reform","fullName":"Reform Party","abbrev":"REF"},{"id":"6","name":"Natural Law","fullName":"Natural Law Party","abbrev":"N"},{"id":"8","name":"Constitution","fullName":"Constitution Party","abbrev":"C"},{"id":"9","name":"Green","fullName":"Green Party","abbrev":"G"},{"id":"10","name":"America First","fullName":"America First Party","abbrev":"A"},{"id":"11","name":"Independent","fullName":"Independent Party","abbrev":"I"},{"id":"12","name":"Nonpartisan","fullName":"Nonpartisan","abbrev":"NP"},{"id":"575000001","name":"Justice","fullName":"Justice Party","abbrev":"JUS"},{"id":"575000002","name":"Prohibition","fullName":"Prohibition Party","abbrev":"PRO"},{"id":"575000003","name":"American Delta","fullName":"American Delta Party","abbrev":"ADP"},{"id":"575000004","name":"Veterans","fullName":"Veterans Party","abbrev":"VET"},{"id":"775000001","name":"American Solidarity","fullName":"American Solidarity Party","abbrev":"ASP"},{"id":"775000002","name":"American Constitution","fullName":"American Constitution Party","abbrev":"AMC"}],"contests":[{"id":"775023387","section":"City of Vicksburg","districtId":"1928","type":"candidate","title":"Mayor","seats":1,"allowWriteIns":true,"candidates":[{"id":"775033907","name":"Troy R. Kimble","partyId":"2"},{"id":"775036124","name":"George Flaggs Jr.","partyId":"11"},{"id":"775036125","name":"Daryl Hollingsworth","partyId":"11"}]},{"id":"775023385","section":"City of Vicksburg","districtId":"575000974","type":"candidate","title":"North Ward Alderman","seats":1,"allowWriteIns":true,"candidates":[{"id":"775033203","name":"Michael A. Mayfield Sr.","partyId":"2"}]},{"id":"775023386","section":"City of Vicksburg","districtId":"575000975","type":"candidate","title":"South Ward Alderman","seats":1,"allowWriteIns":true,"candidates":[{"id":"775033204","name":"Vickie Y. Bailey","partyId":"2"},{"id":"775036126","name":"Alex J. Monsour Jr.","partyId":"3"}]}],"districts":[{"id":"1928","name":"VICKSBURG"},{"id":"575000974","name":"NORTH WARD DISTRICT 1"},{"id":"575000975","name":"SOUTH WARD DISTRICT 2"}],"precincts":[{"id":"575001077","name":"American Legion","address":"1712 Monroe Street, Vicksburg, MS 39180"},{"id":"575001078","name":"No. 5 Fire Station","address":"5885 Highway 61 South, Vicksburg, MS 39180"},{"id":"575001079","name":"Cedar Grove","address":"131 Elizabeth Circle, Vickburg, MS 39183"},{"id":"575001080","name":"Auditorium","address":"901 Monroe St, Vickburg, MS 39183"},{"id":"575001081","name":"Elks Lodge","address":"1366 Highway 61 South, Vickburg, MS 39180"},{"id":"575001082","name":"Kings Gym","address":"224 R L Chase Circle, Vickburg, MS 39183"},{"id":"575001083","name":"Travelers Rest Baptist Church","address":"718 Bowmar Ave, Vickburg, MS 39180"},{"id":"575001084","name":"Plumbers / Pipefitters","address":"3203 N Frontage Rd, Vickburg, MS 39180"},{"id":"575001085","name":"Porters Chapel Methodist Church","address":"200 Porter\u2019s Chapel Rd, Vickburg, MS 39180"},{"id":"575001086","name":"Spring Hill M. B. Church","address":"815 Mission 66, Vickburg, MS 39183"},{"id":"575001087","name":"First Baptist Church","address":"1607 Cherry St, Vicksburg, MS 39180"}],"ballotStyles":[{"id":"1","precincts":["575001080","575001079","575001086","575001077","575001087","575001082"],"districts":["1928","575000974"]},{"id":"2","precincts":["575001085","575001083","575001081","575001084","575001078"],"districts":["1928","575000975"]}],"sealURL":"/seals/mississippi-city-of-vicksburg.png","ballotStrings":{"officialInitials":"Initialing Manager"},"adjudicationReasons":["UninterpretableBallot","Overvote","BlankBallot"],"markThresholds":{"definite":0.12,"marginal":0.12}}')}},[[19,1,2]]]);
//# sourceMappingURL=main.3e45f5c3.chunk.js.map